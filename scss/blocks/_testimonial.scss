.testimonial {
  margin-bottom: 100px;

  &__container {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  &__top {
    position: absolute;
    text-align: center;
    z-index: 5;
    top: 111px;

    @media (max-width: 1340px) {
      position: relative;
      margin-bottom: 49px;
      top: 0;
    }
  }

  &__title {
    margin-bottom: 12px;
  }

  &__subtitle {
  }

  &__content {
    position: relative;
    width: clamp(62.938rem, 50.981rem + 34.78vw, 77.938rem);
    min-width: clamp(62.938rem, 50.981rem + 34.78vw, 77.938rem);
    aspect-ratio: 1 / 1;
  }

  &__image {
    position: absolute;
    width: calc(100% - (164px * 5 / 1247px * 100%));
    aspect-ratio: 1 / 1;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      background: url(../img/bg/light.svg) no-repeat center / contain;
      filter: blur(105px);
    }
    

    & > div {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      overflow: hidden;
    }

    img {
      position: absolute;
      display: flex;
      min-width: clamp(31.188rem, 25.259rem + 17.25vw, 38.625rem);
      width: clamp(31.188rem, 25.259rem + 17.25vw, 38.625rem);
      height: auto;
      left: 50%;
      bottom: -3px;
      transform: translateX(-50%);
    }
    
    & > img {
      clip-path: polygon(
        0 0, 100% 0,
        100% calc(100% - 94px), 0 calc(100% - 94px)
      );
    }
  }

  &__circles {
    position: absolute;
    inset: 0;
    z-index: -1;

    span {
      position: absolute;
      width: 100%;
      aspect-ratio: 1 / 1;
      border: 1px solid rgba($color: #ffffff00, $alpha: 0.17);
      border-radius: 50%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);

      &:nth-child(2) {
        width: calc(100% - (164px * 1 / 1247px * 100%));
      }

      &:nth-child(3) {
        width: calc(100% - (164px * 2 / 1247px * 100%));
      }

      &:nth-child(4) {
        width: calc(100% - (164px * 3 / 1247px * 100%));
      }

      &:nth-child(5) {
        width: calc(100% - (164px * 4 / 1247px * 100%));
      }

      &:nth-child(6) {
        width: calc(100% - (164px * 5 / 1247px * 100%));
      }
    }
  }

  &__clients {
    position: absolute;
    inset: 0;
  }

  &__client-wrapper {
    position: absolute;
    left: 50%;
    top: 50%;
    height: 1px;
    z-index: 3;
    width: 50%;
    transform: rotate(0);
    transform-origin: center left;
    transition: .4s ease;

    &>* {
      transition: .4s ease;
    }

    &:nth-child(1) {
      transform: rotate(220deg);
      & > * {
        transform: translate(50%, -50%) rotate(-220deg);
      }
    }

    &:nth-child(2) {
      transform: rotate(45deg);
      & > * {
        transform: translate(50%, -50%) rotate(-45deg);
      }
    }

    &:nth-child(3) {
      transform: rotate(150deg);
      width: calc(50% - (82px * 1 / 1247px * 100%));
      & > * {
        transform: translate(50%, -50%) rotate(-150deg);
      }
    }

    &:nth-child(4) {
      transform: rotate(5deg);
      width: calc(50% - (82px * 2 / 1247px * 100%));
      & > * {
        transform: translate(50%, -50%) rotate(-5deg);
      }
    }

    &:nth-child(5) {
      transform: rotate(290deg);
      width: calc(50% - (82px * 3 / 1247px * 100%));
      & > * {
        transform: translate(50%, -50%) rotate(-290deg);
      }
    }

    &:nth-child(6) {
      transform: rotate(93deg);
      width: calc(50% - (82px * 4 / 1247px * 100%));
      & > * {
        transform: translate(50%, -50%) rotate(-93deg);
      }
    }

    &._active {
      z-index: 6;
        
      &:nth-child(2) {
        transform: rotate(80deg);
        & > * {
          transform: translate(50%, -50%) rotate(-80deg);
        }
      }
        
      &:nth-child(4) {
        transform: rotate(-80deg);
        & > * {
          transform: translate(50%, -50%) rotate(80deg);
        }
      }
    }

    @media (max-width: 1340px) {
      &:nth-child(1) {
        transform: rotate(240deg);
        & > * {
          transform: translate(50%, -50%) rotate(-240deg);
        }
      }
  
      &:nth-child(2) {
        transform: rotate(60deg);
        & > * {
          transform: translate(50%, -50%) rotate(-60deg);
        }
      }
  
      &:nth-child(3) {
        transform: rotate(100deg);
        & > * {
          transform: translate(50%, -50%) rotate(-100deg);
        }
      }
  
      &:nth-child(4) {
        transform: rotate(250deg);
        & > * {
          transform: translate(50%, -50%) rotate(-250deg);
        }
      }
  
      &:nth-child(5) {
        transform: rotate(290deg);
        & > * {
          transform: translate(50%, -50%) rotate(-290deg);
        }
      }
  
      &:nth-child(6) {
        transform: rotate(93deg);
        & > * {
          transform: translate(50%, -50%) rotate(-93deg);
        }
      }
    }

    @media (max-width: 620px) {
      &:nth-child(1) {
        transform: rotate(255deg);
        & > * {
          transform: translate(50%, -50%) rotate(-255deg);
        }
      }
  
      &:nth-child(2) {
        transform: rotate(75deg);
        & > * {
          transform: translate(50%, -50%) rotate(-75deg);
        }
      }
  
      &:nth-child(3) {
        transform: rotate(100deg);
        width: calc(50% - (82px * 1 / 1247px * 100%));
        & > * {
          transform: translate(50%, -50%) rotate(-100deg);
        }
      }
  
      &:nth-child(4) {
        transform: rotate(250deg);
        width: calc(50% - (82px * 2 / 1247px * 100%));
        & > * {
          transform: translate(50%, -50%) rotate(-250deg);
        }
      }
  
      &:nth-child(5) {
        transform: rotate(290deg);
        width: calc(50% - (82px * 3 / 1247px * 100%));
        & > * {
          transform: translate(50%, -50%) rotate(-290deg);
        }
      }
  
      &:nth-child(6) {
        transform: rotate(93deg);
        width: calc(50% - (82px * 4 / 1247px * 100%));
        & > * {
          transform: translate(50%, -50%) rotate(-93deg);
        }
      }
    }

    @media (max-width: 1340px) {
      &._active {

        &:nth-child(1) {
          transform: rotate(255deg);
          & > * {
            transform: translate(50%, -50%) rotate(-255deg);
          }
        }
    
        &:nth-child(2) {
          transform: rotate(105deg);
          & > * {
            transform: translate(50%, -50%) rotate(-105deg);
          }
        }
    
        &:nth-child(3) {
          transform: rotate(108deg);
          width: calc(50% - (82px * 1 / 1247px * 100%));
          & > * {
            transform: translate(50%, -50%) rotate(-108deg);
          }
        }
    
        &:nth-child(4) {
          transform: rotate(250deg);
          width: calc(50% - (82px * 2 / 1247px * 100%));
          & > * {
            transform: translate(50%, -50%) rotate(-250deg);
          }
        }
    
        &:nth-child(5) {
          transform: rotate(245deg);
          width: calc(50% - (82px * 3 / 1247px * 100%));
          & > * {
            transform: translate(50%, -50%) rotate(-245deg);
          }
        }
    
        &:nth-child(6) {
          transform: rotate(124deg);
          width: calc(50% - (82px * 4 / 1247px * 100%));
          & > * {
            transform: translate(50%, -50%) rotate(-124deg);
          }
        }
      }
    }
  }

  &__client {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translate(50%, -50%);
  }
}